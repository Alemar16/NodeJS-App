<!-- toastifyScript.ejs -->
<script>
  // Función para obtener el valor de un parámetro de consulta en la URL
  function getQueryParam(name) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(name);
  }

  document.addEventListener("DOMContentLoaded", function () {
    // Verifica si hay un mensaje de éxito en la URL y lo muestra
    const successMessage = getQueryParam("message");
    if (successMessage) {
      Toastify({
        text: successMessage,
        duration: 3000, // Duración en milisegundos (5 segundos)
        gravity: "top",
        position: "center",
        style: { background: "linear-gradient(to right, #00b09b, #96c93d)" },
      }).showToast();
      // Redirige al usuario a la página de contacto después de mostrar el mensaje
      setTimeout(function () {
        window.location.href = "/contact";
      }, 5000);
    }

    // Verifica si hay un mensaje de error en la URL y lo muestra
    const errorMessage = getQueryParam("errorMessage");
    if (errorMessage) {
      Toastify({
        text: errorMessage,
        duration: 3000, // Duración en milisegundos (5 segundos)
        gravity: "top",
        position: "center",
        style: { background: "linear-gradient(to right, #cc2b5e, #753a88)" },
      }).showToast();
    }
  });
</script>
